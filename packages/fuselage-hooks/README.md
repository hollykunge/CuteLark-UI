<p align="center">
  <a href="https://rocket.chat" title="Rocket.Chat">
    <img src="https://user-images.githubusercontent.com/2263066/87240777-f5b4f300-c3f2-11ea-8a01-cc58fdf9a99a.png" alt="Rocket.Chat" />
  </a>
</p>

# @rocket.chat/fuselage-hooks

> React hooks for Fuselage, Rocket.Chat's design system and UI toolkit.

![React version](https://img.shields.io/npm/dependency-version/@rocket.chat/fuselage-hooks/peer/react?style=flat-square)
![License: MIT](https://img.shields.io/github/license/RocketChat/Rocket.Chat.Fuselage?style=flat-square)

![Issues](https://img.shields.io/github/issues/RocketChat/Rocket.Chat.Fuselage/%F0%9F%93%A6%20fuselage-hooks?style=flat-square)
![Pull requests](https://img.shields.io/github/issues-pr/RocketChat/Rocket.Chat.Fuselage/%F0%9F%93%A6%20fuselage-hooks?style=flat-square)
![GitHub commit activity](https://img.shields.io/github/commit-activity/m/RocketChat/Rocket.Chat.Fuselage?style=flat-square)

![npm@latest](https://img.shields.io/npm/v/@rocket.chat/fuselage-hooks/latest?style=flat-square)
![npm@next](https://img.shields.io/npm/v/@rocket.chat/fuselage-hooks/next?style=flat-square)
![dev deps](https://img.shields.io/david/dev/RocketChat/Rocket.Chat.Fuselage?path=packages%2Ffuselage-hooks&style=flat-square)
![optional deps](https://img.shields.io/david/optional/RocketChat/Rocket.Chat.Fuselage?path=packages%2Ffuselage-hooks&style=flat-square)
![peer deps](https://img.shields.io/david/peer/RocketChat/Rocket.Chat.Fuselage?path=packages%2Ffuselage-hooks&style=flat-square)
![npm bundle size](https://img.shields.io/bundlephobia/min/@rocket.chat/fuselage-hooks?style=flat-square)
![npm downloads](https://img.shields.io/npm/dw/@rocket.chat/fuselage-hooks?style=flat-square)
![npm collaborators](https://img.shields.io/npm/collaborators/@rocket.chat/fuselage-hooks?style=flat-square)

<p align="center">
  <img src="https://user-images.githubusercontent.com/2263066/87240832-6fe57780-c3f3-11ea-9985-4358c79af772.png" alt="Example" />
</p>

## Install

```sh
yarn add @rocket.chat/fuselage-hooks
```

## API Reference

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [useAutoFocus](#useautofocus)
    -   [Parameters](#parameters)
-   [useBreakpoints](#usebreakpoints)
-   [useDebouncedCallback](#usedebouncedcallback)
    -   [Parameters](#parameters-1)
-   [useDebouncedReducer](#usedebouncedreducer)
    -   [Parameters](#parameters-2)
-   [useDebouncedState](#usedebouncedstate)
    -   [Parameters](#parameters-3)
-   [useDebouncedUpdates](#usedebouncedupdates)
    -   [Parameters](#parameters-4)
-   [useDebouncedValue](#usedebouncedvalue)
    -   [Parameters](#parameters-5)
-   [useIsomorphicLayoutEffect](#useisomorphiclayouteffect)
-   [useLazyRef](#uselazyref)
    -   [Parameters](#parameters-6)
-   [useMediaQueries](#usemediaqueries)
    -   [Parameters](#parameters-7)
-   [useMediaQuery](#usemediaquery)
    -   [Parameters](#parameters-8)
-   [useMergedRefs](#usemergedrefs)
    -   [Parameters](#parameters-9)
-   [useMutableCallback](#usemutablecallback)
    -   [Parameters](#parameters-10)
-   [usePosition](#useposition)
    -   [Parameters](#parameters-11)
-   [useResizeObserver](#useresizeobserver)
    -   [Parameters](#parameters-12)
-   [useSafely](#usesafely)
    -   [Parameters](#parameters-13)
-   [useStableArray](#usestablearray)
    -   [Parameters](#parameters-14)
-   [useLocalStorage](#uselocalstorage)
    -   [Parameters](#parameters-15)
-   [useSessionStorage](#usesessionstorage)
    -   [Parameters](#parameters-16)
-   [useToggle](#usetoggle)
    -   [Parameters](#parameters-17)
-   [useUniqueId](#useuniqueid)

### useAutoFocus

Hook to automatically request focus for an DOM element.

#### Parameters

-   `isFocused`  if true, the focus will be requested (optional, default `true`)
-   `options` **FocusOptions?** options of the focus request

Returns **Ref&lt;{focus: function (options: FocusOptions): void}>** the ref which holds the element

### useBreakpoints

Hook to catch which responsive design' breakpoints are active.

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** an array of the active breakpoint names

### useDebouncedCallback

Hook to memoize a debounced version of a callback.

#### Parameters

-   `callback` **function (...args: P): any** the callback to debounce
-   `delay` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** the number of milliseconds to delay
-   `deps` **DependencyList?** the hook dependencies

Returns **any** a memoized and debounced callback

### useDebouncedReducer

Hook to create a reduced state with a debounced `dispatch()` function.

#### Parameters

-   `reducer` **R** the reducer function
-   `initialArg` **I** the initial state value or the argument passed to the
           initial state generator function
-   `init` **function (arg: I): ReducerState&lt;R>** the initial state generator function
-   `delay` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** the number of milliseconds to delay the updater

Returns **\[ReducerState&lt;R>, any]** a state and debounced `dispatch()` function

### useDebouncedState

Hook to create a state with a debounced setter function.

#### Parameters

-   `initialValue` **(S | function (): S)** the initial state value or the initial state generator function
-   `delay` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** the number of milliseconds to delay the updater

Returns **\[S, any]** a state and debounced setter function

### useDebouncedUpdates

Hook to debounce the state dispatcher function returned by hooks like `useState()` and `useReducer()`.

#### Parameters

-   `pair` **\[S, DispatchWithoutAction]** the state and dispatcher pair which will be debounced
    -   `pair.0`  
    -   `pair.1`  
-   `delay` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** the number of milliseconds to delay the dispatcher

Returns **\[S, any]** a state value and debounced dispatcher pair

### useDebouncedValue

Hook to keep a debounced reference of a value.

#### Parameters

-   `value` **V** the value to be debounced
-   `delay` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** the number of milliseconds to delay

Returns **V** a debounced value

### useIsomorphicLayoutEffect

Replacement for the `useEffect` hook that is safely ignored on SSR.

### useLazyRef

Hook equivalent to useRef, but with a lazy initialization for computed value.

#### Parameters

-   `init`  the function the computes the ref value

Returns **any** the ref

### useMediaQueries

Hook to listen to a set of media queries.

#### Parameters

-   `queries` **...[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** the CSS3 expressions of media queries

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)>** a set of booleans expressing if the media queries match or not

### useMediaQuery

Hook to listen to a media query.

#### Parameters

-   `query` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** the CSS3 media query expression

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** `true` if the media query matches; `false` is it does not match or the query is not defined

### useMergedRefs

Hook to merge refs and callbacks refs into a single callback ref. Useful when your component need a internal ref
while receiving a forwared ref.

#### Parameters

-   `refs` **...[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;Ref&lt;T>>** the refs and callback refs that should be merged

Returns **RefCallback&lt;T>** a merged callback ref

### useMutableCallback

Hook to create a stable callback from a mutable one.

#### Parameters

-   `fn` **function (...args: P): T** the mutable callback

Returns **function (...args: P): T** a stable callback

### usePosition

Hook to deal and position an element using an anchor

#### Parameters

-   `reference` **RefObject&lt;[Element](https://developer.mozilla.org/docs/Web/API/Element)>** the anchor
-   `target` **RefObject&lt;[Element](https://developer.mozilla.org/docs/Web/API/Element)>** 
-   `options` **[PositionOptions](https://developer.mozilla.org/docs/Web/API/PositionOptions)** options to position
-   `targetEl`  the element to be positioned

Returns **PositionResult** The style containing top and left position

### useResizeObserver

Hook to track dimension changes in a DOM element using the ResizeObserver API.

#### Parameters

-   `options` **UseResizeObserverOptions**  (optional, default `{}`)
    -   `options.debounceDelay`  

Returns **{ref: RefObject&lt;[Element](https://developer.mozilla.org/docs/Web/API/Element)>, contentBoxSize: ResizeObserverSize, borderBoxSize: ResizeObserverSize}** a triple containing the ref and the size information

### useSafely

Hook that wraps pairs of state and dispatcher to provide a new dispatcher
which can be safe and asynchronically called even after the component unmounted.

#### Parameters

-   `pair` **\[S, (Dispatch&lt;A> | DispatchWithoutAction)]** the state and dispatcher pair which will be patched
    -   `pair.0`  
    -   `pair.1`  

Returns **\[S, D]** a state value and safe dispatcher pair

### useStableArray

Hook to create an array with stable identity if its elements are equal.

#### Parameters

-   `array` **T** the array
-   `compare` **function (a: T, b: T): [boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** the equality function that checks if two array elements are
           equal (optional, default `Object.is`)

Returns **T** the passed array if the elements are NOT equals; the previously
         stored array otherwise

### useLocalStorage

Hook to deal with localStorage

#### Parameters

-   `key`  the key associated to the value in the storage
-   `initialValue`  the value returned when the key is not found at the storage

Returns **any** a state and a setter function

### useSessionStorage

Hook to deal with sessionStorage

#### Parameters

-   `key`  the key associated to the value in the storage
-   `initialValue`  the value returned when the key is not found at the storage

Returns **any** a state and a setter function

### useToggle

Hook to create a toggleable boolean state.

#### Parameters

-   `initialValue` **([boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean) | function (): [boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean))?** the initial value or the initial state generator function

Returns **\[[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean), D]** a state boolean value and a state toggler function

### useUniqueId

Hook to keep a unique ID string.

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** the unique ID string
